k<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Bumble Unblocker 2.0 (Full Site Fetch)</title>
  <style>
    body { font-family: 'Courier Prime', monospace; background: #222; color: #0f0; text-align: center; padding: 0; margin: 0; }
    .container { background: rgba(32,32,32,0.97); margin: 40px auto; max-width: 700px; border-radius: 12px; box-shadow: 0 0 32px #000; padding: 32px; }
    h1 { color: #ffcc00; text-shadow: 0 0 10px #ffcc00; }
    .input-group { display: flex; justify-content: center; gap: 8px; margin-top: 16px; }
    .input-group input { flex: 1; padding: 12px; font-size: 18px; border-radius: 6px; border: 2px solid #ffcc00; background: #333; color: #ffcc00;}
    .input-group button { padding: 12px 24px; font-size: 18px; border-radius: 6px; border: none; background: #ffcc00; color: #222; cursor: pointer;}
    .input-group button:hover { background: #ff9900; }
    iframe { width: 100%; height: 500px; border: 2px solid #ffcc00; border-radius: 8px; margin-top: 20px; background: #000;}
    .status-message { margin-top: 20px; font-size: 18px; font-weight: bold;}
  </style>
</head>
<body>
  <div class="container">
    <h1>Bumble Unblocker 2.0<br><small>(Fetch Full Website)</small></h1>
    <div class="input-group">
      <input type="text" id="url-input" placeholder="Enter A URL (e.g. https://example.com)">
      <button onclick="unblockWebsite()">Unblock</button>
    </div>
    <div class="status-message" id="status-message"></div>
    <iframe id="content-frame"></iframe>
  </div>
  <script>
    async function unblockWebsite() {
      const url = document.getElementById("url-input").value.trim();
      const iframe = document.getElementById("content-frame");
      const status = document.getElementById("status-message");
      if (!url) {
        status.textContent = "Please enter a valid URL!";
        status.style.color = "#f00";
        return;
      }
      status.textContent = "Fetching website...";
      status.style.color = "#ff0";
      try {
        // Fetch main HTML
        const proxy = "https://api.codetabs.com/v1/proxy?quest=" + encodeURIComponent(url);
        const html = await fetch(proxy).then(r => r.text());
        status.textContent = "Parsing and fetching assets...";
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        // Helper to proxy URLs
        function proxify(src) {
          if (!src) return "";
          if (src.startsWith("data:") || src.startsWith("blob:")) return src;
          let absoluteUrl;
          try {
            absoluteUrl = new URL(src, url).href;
          } catch {
            return src;
          }
          return "https://api.codetabs.com/v1/proxy?quest=" + encodeURIComponent(absoluteUrl);
        }

        // Inline CSS <link>
        const cssLinks = doc.querySelectorAll('link[rel="stylesheet"]');
        for (const link of cssLinks) {
          const href = link.getAttribute("href");
          try {
            const css = await fetch(proxify(href)).then(r => r.text());
            const style = doc.createElement("style");
            style.textContent = css;
            link.parentNode.replaceChild(style, link);
          } catch {}
        }

        // Inline JS <script src="">
        const scriptEls = doc.querySelectorAll('script[src]');
        for (const script of scriptEls) {
          const src = script.getAttribute("src");
          try {
            const js = await fetch(proxify(src)).then(r => r.text());
            const inlineScript = doc.createElement("script");
            inlineScript.textContent = js;
            // Remove src, set as inline
            script.parentNode.replaceChild(inlineScript, script);
          } catch {}
        }

        // Proxify images
        const imgEls = doc.querySelectorAll('img');
        for (const img of imgEls) {
          const src = img.getAttribute("src");
          img.setAttribute("src", proxify(src));
        }

        // Proxify all <a> links to open in new tab
        const aEls = doc.querySelectorAll('a');
        for (const a of aEls) {
          const href = a.getAttribute("href");
          if (href) {
            a.setAttribute("target", "_blank");
            // Optionally, could proxy links too for further navigation
          }
        }

        // Proxify other assets (e.g. <source>, <video>, <audio>)
        const mediaTags = ['source', 'video', 'audio'];
        mediaTags.forEach(tag => {
          doc.querySelectorAll(tag).forEach(el => {
            if (el.src) el.src = proxify(el.src);
          });
        });

        // Set base tag for relative URLs
        let base = doc.querySelector('base');
        if (!base) {
          base = doc.createElement('base');
          base.href = url;
          doc.head.prepend(base);
        }

        // Write to iframe
        const destDoc = iframe.contentDocument || iframe.contentWindow.document;
        destDoc.open();
        destDoc.write(doc.documentElement.outerHTML);
        destDoc.close();

        status.textContent = "Website Unblocked (assets loaded where possible)";
        status.style.color = "#0f0";
      } catch (err) {
        status.textContent = "Failed to unblock or fetch full website: " + err;
        status.style.color = "#f00";
      }
    }
  </script>
</body>
</html>
